<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>300x250</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <script src="http://s0.2mdn.net/ads/studio/Enabler.js" type="text/javascript"></script>
    <link rel="stylesheet" href="main1.css"/>
    <style>
        #bg-exit {
            position: absolute;
            width: 100%;
            height: 90%;
            top: 0px;
            left: 0px;
            cursor: pointer;
            opacity: 0;
            z-index: 400;
        }

    </style>

</head>
<body id="clickArea">
<!--[if lt IE 11]>
<p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
<div id="bg-exit"></div>
<div id="banner">
    <div class="logo"><img id="logo" src=""/></div>
    <div class="text_1"><p id="text_1"></p></div>
    <div class="text_2"><p id="text_2"></p></div>
    <div class="text_3"><p id="text_3"></p></div>
    <div class="text_4"><p id="text_4"></p></div>
    <div class="text_5"><p id="text_5"></p></div>
    <div class="text_6"><p id="text_6"></p></div>
    <div class="text_7"><p id="text_7"></p></div>
    <div class="terms"><p id="terms"></p></div>
    <div class="car_image"><img id="car_image" src=""/></div>
    <div class="MOF_image"><img id="MOF_image"  src=""/></div>
     <div class="chevron_left"><img id="chevron_left" src=""/></div>
    <div class="chevron_right"><img id="chevron_right" src=""/></div>

    <div class="frame-border"></div>

</body>

<script type="text/javascript">

    function bgExitHandler(e) {
        Enabler.exitOverride('Background Exit', 'http://www.mini.co.uk');
    }

    document.getElementById('bg-exit').addEventListener('click', bgExitHandler, false);

    // ****

    var irisBanner = ( function(){

        var els = {
            bannerEl : document.getElementById("banner")
        };

        var props = {

        };

        var actions = {
            SHOW : "SHOW",
            HIDE : "HIDE",
        };

        init();

        function init(){
            //console.log("/index/ -init ");

            els.logoEl = setElement( ".logo" );
            els.text1El = setElement( ".text_1" );
            els.text2El = setElement( ".text_2" );
            els.text3El = setElement( ".text_3" );
            els.text4El = setElement( ".text_4" );
            els.text5El = setElement( ".text_5" );
            els.text6El = setElement( ".text_6" );
            els.text7El = setElement( ".text_7" );
            els.termsEl = setElement( ".terms" );
            els.carEl = setElement( ".car_image" );
            els.MOFEl = setElement( ".MOF_image" );
            els.chevron_leftEl = setElement( ".chevron_left" );
            els.chevron_rightEl = setElement( ".chevron_right" );

            // *******
            sequence();
        }

        /**
         *
         */
        function sequence(){

            var tm = 0.2;

            

            
            
            // text 1 - SHOW
            tm += 0.2;
            timer( tm, actions.SHOW, { el : els.text1El } );
            
            // text 1 - HIDE
            tm += 2;
            timer( tm, actions.HIDE, { el : els.text1El } );
            
            
            
            // text 2 - SHOW
            tm += 0.4;
            timer( tm, actions.SHOW, { el : els.text2El } );
            
            // text 2 - HIDE
            tm += 2;
            timer( tm, actions.HIDE, { el : els.text2El } );
            
            
            // car - SHOW
            tm += 0.2;
            timer( tm, actions.SHOW, { el : els.carEl } );
            timer( tm, actions.SHOW, { el : els.text3El } );
            timer( tm, actions.SHOW, { el : els.text4El } );
            timer( tm, actions.SHOW, { el : els.text5El } );
            timer( tm, actions.SHOW, { el : els.termsEl } );
            
            // car - HIDE
            
            tm += 2;
            timer( tm, actions.HIDE, { el : els.carEl } );
            
            
           // text-6 - SHOW
            
            tm += 0.4;
            timer( tm, actions.SHOW, { el : els.text6El } );
            
            
            // text-6 - HIDE
            
            tm += 3;
            timer( tm, actions.HIDE, { el : els.text6El } );
                        

            // MOF - SHOW
            tm += 0.2;
            timer( tm, actions.SHOW, { el : els.MOFEl } );
            
            // text-7 - SHOW
            tm += 1;
            timer( tm, actions.SHOW, { el : els.text7El } );
            timer( tm, actions.SHOW, { el : els.chevron_leftEl } );
            timer( tm, actions.SHOW, { el : els.chevron_rightEl  } );
            
            // chevron-left & right - SHOW
           
           


        }


        function timer( _delay, _action, _props ){

            var d = _delay * 1000;

            var to = window.setTimeout( function(){

                actionRunner( _action, _props || null );
                window.clearTimeout( to );
            }, d );
        }


        function setElement( _selector ){
            return els.bannerEl.querySelectorAll( _selector )[ 0 ];
        }


        function actionRunner( _action, _props ){

            console.log("/index/ -actionRunner ", _action, _props );

            switch( _action ){

                case actions.SHOW:

                    addClass( _props.el, "show", true );
                    addClass( _props.el, "hide", false );

                    break;

                case actions.HIDE:

                    addClass( _props.el, "show", false );
                    addClass( _props.el, "hide", true );

                    break;

            }
        }


        /**
         *
         * @param _el
         * @param _class
         * @param _f
         */
        function addClass( _el, _class, _f ){

            console.log("/index/ -addClass ", _el, _class );

            ( _f ) ? _el.classList.add( _class ) : _el.classList.remove( _class );

        }

        function prefix(){

        }


    })();
    
    "use strict";

/**
 * wait for dc to start up before calling irisBanner()
 */

if (Enabler.isInitialized()) {
			enablerInitHandler();
		} else {
			Enabler.addEventListener(studio.events.StudioEvent.INIT, enablerInitHandler);
		}
		
		function enablerInitHandler() {

// Dynamic Content variables and sample values
Enabler.setProfileId(1047246);
    var devDynamicContent = {};

    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250= [{}];
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0]._id = 0;
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].Reporting_Label = "MINI_Christmas_Countryman_300x250";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].DBM_Line_ID = 1;
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].car_image = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].car_image.Url = "http://b957adc470a0f6aeab6b-1bc95dd8ce0b91cf15054c7846fc3f85.r1.cf3.rackcdn.com/JCW%20Retargeting/MPU/JCW.png";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_1 = "ALL4 DRIVING";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_2 = "FOR EVERYONE. ";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_3 = "THE MINI COUNTRYMAN.";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_4 = "MONTHLY RENTALS FROM \u00A3249";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_5 = "(PLUS INITIAL RENTAL*).";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].terms = "*\u00A33429 Terms and conditions apply";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_6 = "JOIN THE NEW </br>MINI REVOLUTION.";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_left = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_left.Url = "http://b957adc470a0f6aeab6b-1bc95dd8ce0b91cf15054c7846fc3f85.r1.cf3.rackcdn.com/JCW%20Retargeting/MPU/chevron_left.png";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_right = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_right.Url = "http://b957adc470a0f6aeab6b-1bc95dd8ce0b91cf15054c7846fc3f85.r1.cf3.rackcdn.com/JCW%20Retargeting/MPU/chevron_right.png";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_7 = "FIND OUT MORE";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].MOF_image = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].MOF_image.Url = "http://b957adc470a0f6aeab6b-1bc95dd8ce0b91cf15054c7846fc3f85.r1.cf3.rackcdn.com/JCW%20Retargeting/MPU/MOFsky_03.png";

    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].logo = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].logo.Url = "http://b957adc470a0f6aeab6b-1bc95dd8ce0b91cf15054c7846fc3f85.r1.cf3.rackcdn.com/JCW%20Retargeting/MPU/logo1.png";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].Exit_URL = {};
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].Exit_URL.Url = "http://www.mini.co.uk/campaigns/countryman-q4/";
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].Default = false;
    devDynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].Active = true;
    Enabler.setDevDynamicContent(devDynamicContent);
		
    document.getElementById('text_1').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_1;
    document.getElementById('text_2').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_2;
    document.getElementById('text_3').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_3;
    document.getElementById('text_4').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_4;
    document.getElementById('text_5').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_5;
    document.getElementById('text_6').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_6;
    document.getElementById('text_7').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].text_7;
    document.getElementById('terms').innerHTML =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].terms;
    document.getElementById('logo').src =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].logo.Url;
    document.getElementById('car_image').src =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].car_image.Url;
    document.getElementById('MOF_image').src =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].MOF_image.Url;
    document.getElementById('chevron_left').src =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_left.Url;
    document.getElementById('chevron_right').src =  dynamicContent.MINIChristmasFeed_JCW_MPU_300x250[0].chevron_right.Url;

    document.getElementById('clickArea').addEventListener('click', ctaHandler); 
            
}

function ctaHandler(){ 
    Enabler.exitOverride("yourExitID",  dynamicContent.Profile[0].exit_url); 
}

    // *** bootstrap


   




    /**
     * utility method to add or remove class
     * @param _el : dom element
     * @param _class : css class name
     * @param _f : Boolean true = add || false = remove
     */
    function addClass( _el, _class, _f ){

        //console.log("/main/ -addClass ", _el, _class, _f );
        ( _f ) ? _el.classList.add( _class ) : _el.classList.remove( _class );
    }





</script>
</html>
